# Learn-004: Review Sui CLI

书接上回，继续学习使用 Sui CLI 及 sui-move-analyzer

| 模块 | 主题 | 讲师 | 组织 | 链接 |
| ---- | ---- | ---- | ---- | ---- |
| Move 工具 | SUI CLI 入门 01 | Jason | Startrek | [点击观看](https://www.youtube.com/embed/_Q4UmJLaLec?si=vovw86rd0yCKanaZ) |
| Move 工具 | SUI CLI 入门 02 | Jason | Startrek | [点击观看](https://www.youtube.com/embed/Jz2olTsEpzM?si=XFZku_Ej4Cxb0oYX) |
| Move 工具 | SUI CLI 入门 03 | Jason | Startrek | [点击观看](https://www.youtube.com/embed/hLOJClF00uI?si=0fGSfogJJ-mIgEvY) |
| Move 工具 | sui-move-analyzer 安装说明 |  | MoveBit | [点击观看](https://www.youtube.com/embed/hVI7txtmV9Y?si=EZyjd0SfAlu_zeAq) |
| Move 工具 | sui-move-analyzer 功能分享 |  | MoveBit | [点击观看](https://www.youtube.com/embed/wdnq0BlA4Js?si=HkySKsNLACeyZUQ-) |

## 1.1.Sui CLI 配置Client环境

```bash
# 核查版本
➜  ~ sui --version
sui 1.17.3-ebcb58ff2
# 首次设置环境会先新建地址，后续可以手动删除sui_config目录
➜  ~ sui client envs
Config file ["/home/user/.sui/sui_config/client.yaml"] doesnt exist, do you want to connect to a Sui Full node server [y/N]?y
Sui Full node server URL (Defaults to Sui Devnet if not specified) :
Select key scheme to generate keypair (0 for ed25519, 1 for secp256k1, 2: for secp256r1):
➜  2
Generated new keypair and alias for address with scheme "secp256r1" [awesome-garnet: 0x************************************************************b5c4]
Secret Recovery Phrase : [horse year ***** ***** ***** ***** ***** ***** ***** ***** antenna project]
╭────────┬────────────────────────────────────┬────────╮
│ alias  │ url                                │ active │
├────────┼────────────────────────────────────┼────────┤
│ devnet │ https://fullnode.devnet.sui.io:443 │ *      │
╰────────┴────────────────────────────────────┴────────╯
# 添加新环境
➜  ~ sui client new-env --alias testnet --rpc https://fullnode.testnet.sui.io:443
Added new Sui env [testnet] to config.
➜  ~ sui client envs
╭─────────┬─────────────────────────────────────┬────────╮
│ alias   │ url                                 │ active │
├─────────┼─────────────────────────────────────┼────────┤
│ devnet  │ https://fullnode.devnet.sui.io:443  │ *      │
│ testnet │ https://fullnode.testnet.sui.io:443 │        │
╰─────────┴─────────────────────────────────────┴────────╯
# 切换环境
➜  ~ sui client switch --env testnet
Active environment switched to [testnet]
# 查看环境
➜  ~ sui client envs
╭─────────┬─────────────────────────────────────┬────────╮
│ alias   │ url                                 │ active │
├─────────┼─────────────────────────────────────┼────────┤
│ devnet  │ https://fullnode.devnet.sui.io:443  │        │
│ testnet │ https://fullnode.testnet.sui.io:443 │ *      │
╰─────────┴─────────────────────────────────────┴────────╯
# 清空client环境
➜  rm -rf ~/.sui/sui_config
```

## 1.2.Sui CLI 钱包地址操作

> !!! 以下涉及的地址及私钥均已弃用删除，仅练习用。

```bash
# list addresses
➜  ~ sui client addresses
╭────────────────┬────────────────────────────────────────────────────────────────────┬────────────────╮
│ alias          │ address                                                            │ active address │
├────────────────┼────────────────────────────────────────────────────────────────────┼────────────────┤
│ gallant-jet    │ 0x28a6d59ed8974ce37c2c04dffc19d5b04f7c3b9cf8c44116e1acb7d77d609287 │ *              │
│ awesome-garnet │ 0x98461f0106831e508c0e6bc6fd7bea4bfbf2929ff3c21079ad1f15dd3f66b5c4 │                │
╰────────────────┴────────────────────────────────────────────────────────────────────┴────────────────╯
# new address
➜  ~ sui client new-address ed25519
╭───────────────────────────────────────────────────────────────────────────────────────╮
│ Created new keypair and saved it to keystore.                                         │
├────────────────┬──────────────────────────────────────────────────────────────────────┤
│ alias          │ practical-avanturine                                                 │
│ address        │ 0x57a9bb31f7198bd3f1e07182c1a10f4484f6fc7bc6bd4a52ca8ee1254ff5f6b6   │
│ keyScheme      │ ed25519                                                              │
│ recoveryPhrase │ rare flavor tent **** **** **** **** **** **** **** luggage mass     │
╰────────────────┴──────────────────────────────────────────────────────────────────────╯
# switch address
➜  ~ sui client switch --address 0x57a9bb31f7198bd3f1e07182c1a10f4484f6fc7bc6bd4a52ca8ee1254ff5f6b6
Active address switched to 0x57a9bb31f7198bd3f1e07182c1a10f4484f6fc7bc6bd4a52ca8ee1254ff5f6b6
# check active address
➜  ~ sui client active-address
0x57a9bb31f7198bd3f1e07182c1a10f4484f6fc7bc6bd4a52ca8ee1254ff5f6b6
# list address with details
➜  ~ sui keytool list
╭────────────────────────────────────────────────────────────────────────────────────────────╮
│ ╭─────────────────┬──────────────────────────────────────────────────────────────────────╮ │
│ │ alias           │  gallant-jet                                                         │ │
│ │ suiAddress      │  0x28a6d59ed8974ce37c2c04dffc19d5b04f7c3b9cf8c44116e1acb7d77d609287  │ │
│ │ publicBase64Key │  AHou1Ok1FXP6HQqgslljr7d+WpKNFGs9K03BfdmejZvK                        │ │
│ │ keyScheme       │  ed25519                                                             │ │
│ │ flag            │  0                                                                   │ │
│ │ peerId          │  7a2ed4e9351573fa1d0aa0b25963afb77e5a928d146b3d2b4dc17dd99e8d9bca    │ │
│ ╰─────────────────┴──────────────────────────────────────────────────────────────────────╯ │
│ ╭─────────────────┬──────────────────────────────────────────────────────────────────────╮ │
│ │ alias           │  practical-avanturine                                                │ │
│ │ suiAddress      │  0x57a9bb31f7198bd3f1e07182c1a10f4484f6fc7bc6bd4a52ca8ee1254ff5f6b6  │ │
│ │ publicBase64Key │  ACGVuc++N+POIwJBwwhlE9Bko1aoALhmm9QOWPj9peKf                        │ │
│ │ keyScheme       │  ed25519                                                             │ │
│ │ flag            │  0                                                                   │ │
│ │ peerId          │  2195b9cfbe37e3ce230241c3086513d064a356a800b8669bd40e58f8fda5e29f    │ │
│ ╰─────────────────┴──────────────────────────────────────────────────────────────────────╯ │
│ ╭─────────────────┬──────────────────────────────────────────────────────────────────────╮ │
│ │ alias           │  awesome-garnet                                                      │ │
│ │ suiAddress      │  0x98461f0106831e508c0e6bc6fd7bea4bfbf2929ff3c21079ad1f15dd3f66b5c4  │ │
│ │ publicBase64Key │  AgPl4ZXr6bc/m4aVI6fFCoft1nFWL0bq3/vmNnujgM0tZA==                    │ │
│ │ keyScheme       │  secp256r1                                                           │ │
│ │ flag            │  2                                                                   │ │
│ │ peerId          │                                                                      │ │
│ ╰─────────────────┴──────────────────────────────────────────────────────────────────────╯ │
╰────────────────────────────────────────────────────────────────────────────────────────────╯
# check aliases
➜  ~ cat ~/.sui/sui_config/sui.aliases
[
  {
    "alias": "gallant-jet",
    "public_key_base64": "AHou1Ok1FXP6HQqgslljr7d+WpKNFGs9K03BfdmejZvK"
  },
  {
    "alias": "ecstatic-chrysoberyl",
    "public_key_base64": "ACGVuc++N+POIwJBwwhlE9Bko1aoALhmm9QOWPj9peKf"
  },
  {
    "alias": "awesome-garnet",
    "public_key_base64": "AgPl4ZXr6bc/m4aVI6fFCoft1nFWL0bq3/vmNnujgM0tZA=="
  }
]
# check keystore
➜  ~ cat ~/.sui/sui_config/sui.keystore
[
  "APD5LH5J1cn/xGGXTlVP7Dx************",
  "ACfa9ORj0SusKoUAZ************9yFHpMc8ek",
  "Ak1mQfw1I************CDDvMn5P39mc1ED"
]
# convert private key from base64 to hex
➜  ~ sui keytool convert ACfa9OR************HpMc8ek
╭─────┬────────────────────────────────────────────────────────────────────╮
│ hex │  27daf4e463d************************4acfbf72147a4c73c7a4  │
╰─────┴────────────────────────────────────────────────────────────────────╯
# import existed address by private key
➜  ~ sui keytool import 0x27daf4e463************b364acfbf72147a4c73c7a4 ed25519
# remove address
➜  ~ vim ~/.sui/sui_config/sui.aliases
➜  ~ vim ~/.sui/sui_config/sui.keystore
```

## 1.3.Sui CLI 链上交互

**Token Transfer**

```bash
# 查看地址列表，以及当前激活地址的token列表
➜  ~ sui client addresses;sui client gas
╭─────────────────┬────────────────────────────────────────────────────────────────────┬────────────────╮
│ alias           │ address                                                            │ active address │
├─────────────────┼────────────────────────────────────────────────────────────────────┼────────────────┤
│ modest-euclase  │ 0x2086d432968cdec966d3120b67e615dffb224200c517705faff55d7cd0ab573f │                │
│ hopeful-felspar │ 0x516aab6cbf100f17a482bd88db1836a85ec7713530cc13058f74a1ab4aff9265 │ *              │
╰─────────────────┴────────────────────────────────────────────────────────────────────┴────────────────╯
[warn] Client/Server api version mismatch, client api version : 1.17.3, server api version : 1.18.0
No gas coins are owned by this address
# 调用水龙头
➜  ~ curl --location --request POST 'https://faucet.devnet.sui.io/gas' \
--header 'Content-Type: application/json' \
--data-raw '{
    "FixedAmountRequest": {
        "recipient": "<YOUR_ADDRESS>"
    }
}'
# 或使用 sui-cli 水龙头
➜  ~ sui client gas
[warn] Client/Server api version mismatch, client api version : 1.18.1, server api version : 1.19.0
╭────────────────────────────────────────────────────────────────────┬────────────╮
│ gasCoinId                                                          │ gasBalance │
├────────────────────────────────────────────────────────────────────┼────────────┤
│ 0x8f2e5*****************************************************30ef69 │ 978408852  │
╰────────────────────────────────────────────────────────────────────┴────────────╯
➜  ~ sui client faucet --address 0x9da******8e918
Request successful. It can take up to 1 minute to get the coin. Run sui client gas to check your gas coins.
➜  ~ sui client gas
[warn] Client/Server api version mismatch, client api version : 1.18.1, server api version : 1.19.0
╭────────────────────────────────────────────────────────────────────┬────────────╮
│ gasCoinId                                                          │ gasBalance │
├────────────────────────────────────────────────────────────────────┼────────────┤
│ 0x37076*****************************************************4d736f │ 1000000000 │
│ 0x8f2e5*****************************************************30ef69 │ 978408852  │
╰────────────────────────────────────────────────────────────────────┴────────────╯
➜  ~
# 切换地址2，并查询token列表
➜  ~ sui client switch --address 0x2086d432968cdec966d3120b67e615dffb224200c517705faff55d7cd0ab573f;sui client gas
Active address switched to 0x2086d432968cdec966d3120b67e615dffb224200c517705faff55d7cd0ab573f
[warn] Client/Server api version mismatch, client api version : 1.17.3, server api version : 1.18.0
╭────────────────────────────────────────────────────────────────────┬────────────╮
│ gasCoinId                                                          │ gasBalance │
├────────────────────────────────────────────────────────────────────┼────────────┤
│ 0xc22854ab7f26655a939b3a9728b837cde221119ed2cc0f917e76b9a6ab38de30 │ 2000000000 │
╰────────────────────────────────────────────────────────────────────┴────────────╯
# 用地址2给地址1转账
➜  ~ sui client pay-sui --input-coins 0xc22854ab7f26655a939b3a9728b837cde221119ed2cc0f917e76b9a6ab38de30 --recipients 0x516aab6cbf100f17a482bd88db1836a85ec7713530cc13058f74a1ab4aff9265 --amounts 500000000 --gas-budget 10000000
[warn] Client/Server api version mismatch, client api version : 1.17.3, server api version : 1.18.0
Transaction Digest: H4bH9t5nm8Q4MVkPxv731LvzcgKzBZh7kjAmfdWcQ76h
╭───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Transaction Data
                │
├───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ Sender: 0x2086d432968cdec966d3120b67e615dffb224200c517705faff55d7cd0ab573f
                │
│ Gas Owner: 0x2086d432968cdec966d3120b67e615dffb224200c517705faff55d7cd0ab573f
                │
│ Gas Budget: 10000000 MIST
                │
│ Gas Price: 1000 MIST
                │
│ Gas Payment:
                │
│  ┌──
                │
│  │ ID: 0xc22854ab7f26655a939b3a9728b837cde221119ed2cc0f917e76b9a6ab38de30
                │
│  │ Version: 4
                │
│  │ Digest: 9J6ndjqyiLnkM4bp1nTRQd61si3sEiGgoT68NeCViatr
                │
│  └──
                │
│
                │
│ Transaction Kind : Programmable
                │
│ Inputs: [Pure(SuiPureValue { value_type: Some(U64), value: "500000000" }), Pure(SuiPureValue { value_type: Some(Address), value: "0x516aab6cbf100f17a482bd88db1836a85ec7713530cc13058f74a1ab4aff9265" })] │
│ Commands: [
                │
│   SplitCoins(GasCoin,Input(0)),
                │
│   TransferObjects([NestedResult(0,0)],Input(1)),
                │
│ ]
                │
│
                │
│
                │
│ Signatures:
                │
│    QefVwQwdHNjtwIEiunZRa/Y94iwREcNsdw/VCDjdzUbgBFm8j9U90+u9lVLtF4fOXSFtfcyDpWGz4dOV41xoBA==
                │
│
                │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭───────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Transaction Effects                                                                               │
├───────────────────────────────────────────────────────────────────────────────────────────────────┤
│ Digest: H4bH9t5nm8Q4MVkPxv731LvzcgKzBZh7kjAmfdWcQ76h                                              │
│ Status: Success                                                                                   │
│ Executed Epoch: 126                                                                               │
│                                                                                                   │
│ Created Objects:                                                                                  │
│  ┌──                                                                                              │
│  │ ID: 0x92418e89bf686da2ee32c67ac1646d9a8489534b3c365d40b565c492ccfc660a                         │
│  │ Owner: Account Address ( 0x516aab6cbf100f17a482bd88db1836a85ec7713530cc13058f74a1ab4aff9265 )  │
│  │ Version: 5                                                                                     │
│  │ Digest: DkmCZBJ9xiQSngHgTXVBBdgP4aVucrgR41hSKq1DHCkA                                           │
│  └──                                                                                              │
│                                                                                                   │
│ Mutated Objects:                                                                                  │
│  ┌──                                                                                              │
│  │ ID: 0xc22854ab7f26655a939b3a9728b837cde221119ed2cc0f917e76b9a6ab38de30                         │
│  │ Owner: Account Address ( 0x2086d432968cdec966d3120b67e615dffb224200c517705faff55d7cd0ab573f )  │
│  │ Version: 5                                                                                     │
│  │ Digest: B3X7T5kUsYqVK6KycGNxo616NdfQ29gmH25tHVbLLrQs                                           │
│  └──                                                                                              │
│                                                                                                   │
│ Gas Object:                                                                                       │
│  ┌──                                                                                              │
│  │ ID: 0xc22854ab7f26655a939b3a9728b837cde221119ed2cc0f917e76b9a6ab38de30                         │
│  │ Owner: Account Address ( 0x2086d432968cdec966d3120b67e615dffb224200c517705faff55d7cd0ab573f )  │
│  │ Version: 5                                                                                     │
│  │ Digest: B3X7T5kUsYqVK6KycGNxo616NdfQ29gmH25tHVbLLrQs                                           │
│  └──                                                                                              │
│                                                                                                   │
│ Gas Cost Summary:                                                                                 │
│    Storage Cost: 1976000                                                                          │
│    Computation Cost: 1000000                                                                      │
│    Storage Rebate: 978120                                                                         │
│    Non-refundable Storage Fee: 9880                                                               │
│                                                                                                   │
│ Transaction Dependencies:                                                                         │
│    8C4pyoJR1vSU1GXBsxn9dQ42CTARe3WNoWuXinPcgDsr                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────╮
│ No transaction block events │
╰─────────────────────────────╯

╭──────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Object Changes                                                                                   │
├──────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                  │
│ Created Objects:                                                                                 │
│  ┌──                                                                                             │
│  │ ObjectID: 0x92418e89bf686da2ee32c67ac1646d9a8489534b3c365d40b565c492ccfc660a                  │
│  │ Sender: 0x2086d432968cdec966d3120b67e615dffb224200c517705faff55d7cd0ab573f                    │
│  │ Owner: Account Address ( 0x516aab6cbf100f17a482bd88db1836a85ec7713530cc13058f74a1ab4aff9265 ) │
│  │ ObjectType: 0x2::coin::Coin<0x2::sui::SUI>                                                    │
│  │ Version: 5                                                                                    │
│  │ Digest: DkmCZBJ9xiQSngHgTXVBBdgP4aVucrgR41hSKq1DHCkA                                          │
│  └──                                                                                             │
│                                                                                                  │
│ Mutated Objects:                                                                                 │
│  ┌──                                                                                             │
│  │ ObjectID: 0xc22854ab7f26655a939b3a9728b837cde221119ed2cc0f917e76b9a6ab38de30                  │
│  │ Sender: 0x2086d432968cdec966d3120b67e615dffb224200c517705faff55d7cd0ab573f                    │
│  │ Owner: Account Address ( 0x2086d432968cdec966d3120b67e615dffb224200c517705faff55d7cd0ab573f ) │
│  │ ObjectType: 0x2::coin::Coin<0x2::sui::SUI>                                                    │
│  │ Version: 5                                                                                    │
│  │ Digest: B3X7T5kUsYqVK6KycGNxo616NdfQ29gmH25tHVbLLrQs                                          │
│  └──                                                                                             │
╰──────────────────────────────────────────────────────────────────────────────────────────────────╯
╭───────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Balance Changes                                                                                   │
├───────────────────────────────────────────────────────────────────────────────────────────────────┤
│  ┌──                                                                                              │
│  │ Owner: Account Address ( 0x2086d432968cdec966d3120b67e615dffb224200c517705faff55d7cd0ab573f )  │
│  │ CoinType: 0x2::sui::SUI                                                                        │
│  │ Amount: -501997880                                                                             │
│  └──                                                                                              │
│  ┌──                                                                                              │
│  │ Owner: Account Address ( 0x516aab6cbf100f17a482bd88db1836a85ec7713530cc13058f74a1ab4aff9265 )  │
│  │ CoinType: 0x2::sui::SUI                                                                        │
│  │ Amount: 500000000                                                                              │
│  └──                                                                                              │
╰───────────────────────────────────────────────────────────────────────────────────────────────────╯
```

> 值得一提的是，gasCoinId并不完全指向某一种token。比如向某个账号执行同种token的多笔转账交易，最后会生成多个gasCoinId（type是一致的）。

可以通过`merge-coin`合并，反之用`split-coin`。

P.S.如果merge的coin是主币`0x2::sui::SUI`， 则至少持有3个：两个是合并coins, 另一个用来支付gas；
如果不是主币`0x2::sui::SUI`， 则至少持有2个同种coin。

```bash
➜  sui-e2e-counter git:(main) ✗ sui client merge-coin --gas-budget 10000000 --primary-coin 0xd4b8e82f25a1c8b9e70770a288416ce5c6f7640e8bd4bea87586dda8ca7c13f0 --coin-to-merge 0x92418e89bf686da2ee32c67ac1646d9a8489534b3c365d40b565c492ccfc660a
[warn] Client/Server api version mismatch, client api version : 1.17.3, server api version : 1.18.0
Transaction Digest: 4mN8QJMCZ5GY5Ykm2mS2hAeMtA9waU7KBaVbyoypudfh
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Transaction Data
                     │
├────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ Sender: 0x9da100344b78791774119ed087abae1d111c36276369accbf72ac2c8d8c8e918
                     │
│ Gas Owner: 0x9da100344b78791774119ed087abae1d111c36276369accbf72ac2c8d8c8e918
                     │
│ Gas Budget: 10000000 MIST
                     │
│ Gas Price: 1000 MIST
                     │
│ Gas Payment:
                     │
│  ┌──
                     │
│  │ ID: 0x5cee3c3e7b9b7ce038cf38ca94ee2ee70adb9832fc14a52356d4c7ee001a0754
                     │
│  │ Version: 10
                     │
│  │ Digest: Ex7G1Es6EGsZA1u9tH1DfEGJaCSkicdVJWEjsfUFhWWc
                     │
│  └──
                     │
│
                     │
│ Transaction Kind : Programmable
                     │
│ Inputs: [Object(ImmOrOwnedObject { object_id: 0xd4b8e82f25a1c8b9e70770a288416ce5c6f7640e8bd4bea87586dda8ca7c13f0, version: SequenceNumber(10), digest: o#8HkAkZSELfQw7Tcq2NiACopsFMkefaJ8ezmd5cfjJjK7 }), Object(ImmOrOwnedObject { object_id: 0x92418e89bf686da2ee32c67ac1646d9a8489534b3c365d40b565c492ccfc660a, version: SequenceNumber(10), digest: o#FxiJCyVrhB9LHxkoV8swSchgitwmDUSP77WVYRU9MbvZ })] │
│ Commands: [
                     │
│   MoveCall(0x0000000000000000000000000000000000000000000000000000000000000002::pay::join<0x2::sui::SUI>(Input(0),Input(1))),
                     │
│ ]
                     │
│
                     │
│
                     │
│ Signatures:
                     │
│    Euin/s8ZRYq6K6iWxCAuV+F/WIJY61xGKBBnoMrjMDu8qw4+tX70Bf+cBZsc8DzGgLBipqLNeRnPd3qrWfhRAg==
                     │
│
                     │
╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭───────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Transaction Effects                                                                               │
├───────────────────────────────────────────────────────────────────────────────────────────────────┤
│ Digest: 4mN8QJMCZ5GY5Ykm2mS2hAeMtA9waU7KBaVbyoypudfh                                              │
│ Status: Success                                                                                   │
│ Executed Epoch: 165                                                                               │
│                                                                                                   │
│ Mutated Objects:                                                                                  │
│  ┌──                                                                                              │
│  │ ID: 0x5cee3c3e7b9b7ce038cf38ca94ee2ee70adb9832fc14a52356d4c7ee001a0754                         │
│  │ Owner: Account Address ( 0x9da100344b78791774119ed087abae1d111c36276369accbf72ac2c8d8c8e918 )  │
│  │ Version: 11                                                                                    │
│  │ Digest: BngsyM7SAWn2fGof25WK3YqPGGxmrwgnK6vBoCh9mGLD                                           │
│  └──                                                                                              │
│  ┌──                                                                                              │
│  │ ID: 0xd4b8e82f25a1c8b9e70770a288416ce5c6f7640e8bd4bea87586dda8ca7c13f0                         │
│  │ Owner: Account Address ( 0x9da100344b78791774119ed087abae1d111c36276369accbf72ac2c8d8c8e918 )  │
│  │ Version: 11                                                                                    │
│  │ Digest: CXTAsva6wCt3werEkoSy7KGZMDdDQfFYbKfQxGsoLeui                                           │
│  └──                                                                                              │
│                                                                                                   │
│ Deleted Objects:                                                                                  │
│  ┌──                                                                                              │
│  │ ID: 0x92418e89bf686da2ee32c67ac1646d9a8489534b3c365d40b565c492ccfc660a                         │
│  │ Version: 11                                                                                    │
│  │ Digest: 7gyGAp71YXQRoxmFBaHxofQXAipvgHyBKPyxmdSJxyvz                                           │
│  └──                                                                                              │
│                                                                                                   │
│ Gas Object:                                                                                       │
│  ┌──                                                                                              │
│  │ ID: 0x5cee3c3e7b9b7ce038cf38ca94ee2ee70adb9832fc14a52356d4c7ee001a0754                         │
│  │ Owner: Account Address ( 0x9da100344b78791774119ed087abae1d111c36276369accbf72ac2c8d8c8e918 )  │
│  │ Version: 11                                                                                    │
│  │ Digest: BngsyM7SAWn2fGof25WK3YqPGGxmrwgnK6vBoCh9mGLD                                           │
│  └──                                                                                              │
│                                                                                                   │
│ Gas Cost Summary:                                                                                 │
│    Storage Cost: 1976000                                                                          │
│    Computation Cost: 1000000                                                                      │
│    Storage Rebate: 2934360                                                                        │
│    Non-refundable Storage Fee: 29640                                                              │
│                                                                                                   │
│ Transaction Dependencies:                                                                         │
│    3U4bcCp1YPbucN41PVpe9L4kz9BECtt342SjWvRuynm1                                                   │
│    Eseqi3JNwXb2RNWCsBiL7wVrNZRWkVXhQz8wRNRSmMSM                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────╮
│ No transaction block events │
╰─────────────────────────────╯

╭──────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Object Changes                                                                                   │
├──────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                  │
│ Mutated Objects:                                                                                 │
│  ┌──                                                                                             │
│  │ ObjectID: 0x5cee3c3e7b9b7ce038cf38ca94ee2ee70adb9832fc14a52356d4c7ee001a0754                  │
│  │ Sender: 0x9da100344b78791774119ed087abae1d111c36276369accbf72ac2c8d8c8e918                    │
│  │ Owner: Account Address ( 0x9da100344b78791774119ed087abae1d111c36276369accbf72ac2c8d8c8e918 ) │
│  │ ObjectType: 0x2::coin::Coin<0x2::sui::SUI>                                                    │
│  │ Version: 11                                                                                   │
│  │ Digest: BngsyM7SAWn2fGof25WK3YqPGGxmrwgnK6vBoCh9mGLD                                          │
│  └──                                                                                             │
│  ┌──                                                                                             │
│  │ ObjectID: 0xd4b8e82f25a1c8b9e70770a288416ce5c6f7640e8bd4bea87586dda8ca7c13f0                  │
│  │ Sender: 0x9da100344b78791774119ed087abae1d111c36276369accbf72ac2c8d8c8e918                    │
│  │ Owner: Account Address ( 0x9da100344b78791774119ed087abae1d111c36276369accbf72ac2c8d8c8e918 ) │
│  │ ObjectType: 0x2::coin::Coin<0x2::sui::SUI>                                                    │
│  │ Version: 11                                                                                   │
│  │ Digest: CXTAsva6wCt3werEkoSy7KGZMDdDQfFYbKfQxGsoLeui                                          │
│  └──                                                                                             │
╰──────────────────────────────────────────────────────────────────────────────────────────────────╯
╭───────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Balance Changes                                                                                   │
├───────────────────────────────────────────────────────────────────────────────────────────────────┤
│  ┌──                                                                                              │
│  │ Owner: Account Address ( 0x9da100344b78791774119ed087abae1d111c36276369accbf72ac2c8d8c8e918 )  │
│  │ CoinType: 0x2::sui::SUI                                                                        │
│  │ Amount: -41640                                                                                 │
│  └──                                                                                              │
╰───────────────────────────────────────────────────────────────────────────────────────────────────╯
```

**Contract Call**

```bash
# 调用合约-gas不足
➜  ~ sui client call --package 0x3ad669c8c5253b5820986c0057529f6ef6b4d2745e4a69fd75b0db4162deec11 --module hello_world --function mint --gas-budget 1000000
[warn] Client/Server api version mismatch, client api version : 1.17.3, server api version : 1.18.0
Error executing transaction: Failure {
    error: "InsufficientGas",
}
# 调用合约-mint
➜  ~ sui client call --package 0x3ad669c8c5253b5820986c0057529f6ef6b4d2745e4a69fd75b0db4162deec11 --module hello_world --function mint --gas-budget 10000000
[warn] Client/Server api version mismatch, client api version : 1.17.3, server api version : 1.18.0
Transaction Digest: 2ovsSRrRuYXdV432YiHKqPRdRm4PR3Sc2wgRakbi2wNe
╭──────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Transaction Data                                                                                     │
├──────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ Sender: 0x2086d432968cdec966d3120b67e615dffb224200c517705faff55d7cd0ab573f                           │
│ Gas Owner: 0x2086d432968cdec966d3120b67e615dffb224200c517705faff55d7cd0ab573f                        │
│ Gas Budget: 10000000 MIST                                                                            │
│ Gas Price: 1000 MIST                                                                                 │
│ Gas Payment:                                                                                         │
│  ┌──                                                                                                 │
│  │ ID: 0x8f2e5b9187142addf098f5cd32ef59ab07a770ce4bb0beaaffddf1d76a30ef69                            │
│  │ Version: 892588                                                                                   │
│  │ Digest: HUkzVkz48RDdkSDyH1muaLu8XgntdDZGQLrgq9FfqJuZ                                              │
│  └──                                                                                                 │
│                                                                                                      │
│ Transaction Kind : Programmable                                                                      │
│ Inputs: []                                                                                           │
│ Commands: [                                                                                          │
│   MoveCall(0x3ad669c8c5253b5820986c0057529f6ef6b4d2745e4a69fd75b0db4162deec11::hello_world::mint()), │
│ ]                                                                                                    │
│                                                                                                      │
│                                                                                                      │
│ Signatures:                                                                                          │
│    4wO5V0PJFhet5I86c2pEu5IJdBD9t/ACVtiG3odVL4U9xEV/6oHCbLwPiptt+VxfH6g2sZwkd2CzxM6wPvkEDQ==          │
│                                                                                                      │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭───────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Transaction Effects                                                                               │
├───────────────────────────────────────────────────────────────────────────────────────────────────┤
│ Digest: 2ovsSRrRuYXdV432YiHKqPRdRm4PR3Sc2wgRakbi2wNe                                              │
│ Status: Success                                                                                   │
│ Executed Epoch: 271                                                                               │
│                                                                                                   │
│ Created Objects:                                                                                  │
│  ┌──                                                                                              │
│  │ ID: 0xe56989f54459a3c069bacf0afe7239e72bdea73a0eb570a9a7b2d0b32692c2ae                         │
│  │ Owner: Account Address ( 0x2086d432968cdec966d3120b67e615dffb224200c517705faff55d7cd0ab573f )  │
│  │ Version: 892589                                                                                │
│  │ Digest: 3p6MdQkFBw6s1518mR7jpSPLUgwZCKSj9hb6oqVmLuh2                                           │
│  └──                                                                                              │
│                                                                                                   │
│ Mutated Objects:                                                                                  │
│  ┌──                                                                                              │
│  │ ID: 0x8f2e5b9187142addf098f5cd32ef59ab07a770ce4bb0beaaffddf1d76a30ef69                         │
│  │ Owner: Account Address ( 0x2086d432968cdec966d3120b67e615dffb224200c517705faff55d7cd0ab573f )  │
│  │ Version: 892589                                                                                │
│  │ Digest: GgENGfm3y5as8LBYwJxArqttv1skwsD2sjAYmA8z7fFu                                           │
│  └──                                                                                              │
│                                                                                                   │
│ Gas Object:                                                                                       │
│  ┌──                                                                                              │
│  │ ID: 0x8f2e5b9187142addf098f5cd32ef59ab07a770ce4bb0beaaffddf1d76a30ef69                         │
│  │ Owner: Account Address ( 0x2086d432968cdec966d3120b67e615dffb224200c517705faff55d7cd0ab573f )  │
│  │ Version: 892589                                                                                │
│  │ Digest: GgENGfm3y5as8LBYwJxArqttv1skwsD2sjAYmA8z7fFu                                           │
│  └──                                                                                              │
│                                                                                                   │
│ Gas Cost Summary:                                                                                 │
│    Storage Cost: 2485200                                                                          │
│    Computation Cost: 1000000                                                                      │
│    Storage Rebate: 978120                                                                         │
│    Non-refundable Storage Fee: 9880                                                               │
│                                                                                                   │
│ Transaction Dependencies:                                                                         │
│    4Cku6twUbbZwWY6JLPi4YFpvoJCASA2TSgk4RqsgMt5C                                                   │
│    7L4m79BV3dHJLVGFwFTUf2zXGnm7KfboD1GqAcey9nzV                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────╮
│ No transaction block events │
╰─────────────────────────────╯

╭───────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Object Changes                                                                                                    │
├───────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                   │
│ Created Objects:                                                                                                  │
│  ┌──                                                                                                              │
│  │ ObjectID: 0xe56989f54459a3c069bacf0afe7239e72bdea73a0eb570a9a7b2d0b32692c2ae                                   │
│  │ Sender: 0x2086d432968cdec966d3120b67e615dffb224200c517705faff55d7cd0ab573f                                     │
│  │ Owner: Account Address ( 0x2086d432968cdec966d3120b67e615dffb224200c517705faff55d7cd0ab573f )                  │
│  │ ObjectType: 0x3ad669c8c5253b5820986c0057529f6ef6b4d2745e4a69fd75b0db4162deec11::hello_world::HelloWorldObject  │
│  │ Version: 892589                                                                                                │
│  │ Digest: 3p6MdQkFBw6s1518mR7jpSPLUgwZCKSj9hb6oqVmLuh2                                                           │
│  └──                                                                                                              │
│                                                                                                                   │
│ Mutated Objects:                                                                                                  │
│  ┌──                                                                                                              │
│  │ ObjectID: 0x8f2e5b9187142addf098f5cd32ef59ab07a770ce4bb0beaaffddf1d76a30ef69                                   │
│  │ Sender: 0x2086d432968cdec966d3120b67e615dffb224200c517705faff55d7cd0ab573f                                     │
│  │ Owner: Account Address ( 0x2086d432968cdec966d3120b67e615dffb224200c517705faff55d7cd0ab573f )                  │
│  │ ObjectType: 0x2::coin::Coin<0x2::sui::SUI>                                                                     │
│  │ Version: 892589                                                                                                │
│  │ Digest: GgENGfm3y5as8LBYwJxArqttv1skwsD2sjAYmA8z7fFu                                                           │
│  └──                                                                                                              │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭───────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Balance Changes                                                                                   │
├───────────────────────────────────────────────────────────────────────────────────────────────────┤
│  ┌──                                                                                              │
│  │ Owner: Account Address ( 0x2086d432968cdec966d3120b67e615dffb224200c517705faff55d7cd0ab573f )  │
│  │ CoinType: 0x2::sui::SUI                                                                        │
│  │ Amount: -2507080                                                                               │
│  └──                                                                                              │
╰───────────────────────────────────────────────────────────────────────────────────────────────────╯
# 查询所有资源
➜  ~ sui client objects
[warn] Client/Server api version mismatch, client api version : 1.17.3, server api version : 1.18.0
╭───────────────────────────────────────────────────────────────────────────────────────╮
│ ╭────────────┬──────────────────────────────────────────────────────────────────────╮ │
│ │ objectId   │  0x8f2e5b9187142addf098f5cd32ef59ab07a770ce4bb0beaaffddf1d76a30ef69  │ │
│ │ version    │  892589                                                              │ │
│ │ digest     │  6OwRurS8BWyShZse0MJfVQdFYU//qNcEqXSmQrADCtg=                        │ │
│ │ objectType │  0x0000..0002::coin::Coin                                            │ │
│ ╰────────────┴──────────────────────────────────────────────────────────────────────╯ │
│ ╭────────────┬──────────────────────────────────────────────────────────────────────╮ │
│ │ objectId   │  0xe56989f54459a3c069bacf0afe7239e72bdea73a0eb570a9a7b2d0b32692c2ae  │ │
│ │ version    │  892589                                                              │ │
│ │ digest     │  Kce6P5k2Op71aN3+7vTlU5NOcRxVrNCfj3Z8rn9iKZk=                        │ │
│ │ objectType │  0x3ad6..ec11::hello_world::HelloWorldObject                         │ │
│ ╰────────────┴──────────────────────────────────────────────────────────────────────╯ │
╰───────────────────────────────────────────────────────────────────────────────────────╯
# 查询单个资源
➜  ~ sui client object 0xe56989f54459a3c069bacf0afe7239e72bdea73a0eb570a9a7b2d0b32692c2ae
[warn] Client/Server api version mismatch, client api version : 1.17.3, server api version : 1.18.0
╭───────────────┬─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ objectId      │  0xe56989f54459a3c069bacf0afe7239e72bdea73a0eb570a9a7b2d0b32692c2ae                                                         │
│ version       │  892589                                                                                                                     │
│ digest        │  3p6MdQkFBw6s1518mR7jpSPLUgwZCKSj9hb6oqVmLuh2                                                                               │
│ objType       │  0x3ad669c8c5253b5820986c0057529f6ef6b4d2745e4a69fd75b0db4162deec11::hello_world::HelloWorldObject                          │
│ ownerType     │  AddressOwner                                                                                                               │
│ prevTx        │  2ovsSRrRuYXdV432YiHKqPRdRm4PR3Sc2wgRakbi2wNe                                                                               │
│ storageRebate │  1497200                                                                                                                    │
│ content       │ ╭───────────────────┬─────────────────────────────────────────────────────────────────────────────────────────────────────╮ │
│               │ │ dataType          │  moveObject                                                                                         │ │
│               │ │ type              │  0x3ad669c8c5253b5820986c0057529f6ef6b4d2745e4a69fd75b0db4162deec11::hello_world::HelloWorldObject  │ │
│               │ │ hasPublicTransfer │  true                                                                                               │ │
│               │ │ fields            │ ╭──────┬───────────────────────────────────────────────────────────────────────────────╮            │ │
│               │ │                   │ │ id   │ ╭────┬──────────────────────────────────────────────────────────────────────╮ │            │ │
│               │ │                   │ │      │ │ id │  0xe56989f54459a3c069bacf0afe7239e72bdea73a0eb570a9a7b2d0b32692c2ae  │ │            │ │
│               │ │                   │ │      │ ╰────┴──────────────────────────────────────────────────────────────────────╯ │            │ │
│               │ │                   │ │ text │  Hello World!                                                                 │            │ │
│               │ │                   │ ╰──────┴───────────────────────────────────────────────────────────────────────────────╯            │ │
│               │ ╰───────────────────┴─────────────────────────────────────────────────────────────────────────────────────────────────────╯ │
╰───────────────┴─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
```

## 2.Install `move-analyzer`

See how to install [move-ides-and-plugins](https://docs.sui.io/guides/developer/getting-started/sui-environment#move-ides-and-plugins).

You can get it at [vscode:move-analyzer](https://marketplace.visualstudio.com/items?itemName=move.move-analyzer).

```bash
cargo install --git https://github.com/move-language/move move-analyzer --branch sui-move --features "address32"
```

## Short Summary

`Sui-CLI` 
- 新增水龙头功能✅ [#15940](https://github.com/MystenLabs/sui/pull/15940): Added a new command sui client faucet to make it easier to get gas from devnet, testnet, or a local network.
- 控制台日志友好🆙
- 账号地址逻辑简单🆙
